[gd_scene load_steps=19 format=3 uid="uid://denbhipr26x6c"]

[ext_resource type="Script" path="res://addons/player-networking/PlayerFrameLocal.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://dhd8tliyhvtiw" path="res://controlplayer.tscn" id="2"]
[ext_resource type="Texture2D" uid="uid://cylf2rhw3gp0e" path="res://moonlow/_albedo.png" id="2_ycy4d"]
[ext_resource type="PackedScene" uid="uid://cfmoahalri06d" path="res://addons/player-networking/NetworkGateway.tscn" id="3"]
[ext_resource type="Texture2D" uid="uid://baeyk5co8xxrj" path="res://moonlow/_normal.png" id="3_1a6vp"]
[ext_resource type="Script" path="res://JoystickControls.gd" id="4"]
[ext_resource type="Script" path="res://PingPongBall.gd" id="5"]
[ext_resource type="Script" path="res://syncobjects.gd" id="6_jvykx"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_is50g"]

[sub_resource type="CanvasTexture" id="CanvasTexture_t3x1q"]
diffuse_texture = ExtResource("2_ycy4d")
normal_texture = ExtResource("3_1a6vp")
specular_shininess = 0.0

[sub_resource type="Gradient" id="Gradient_y7cr2"]
offsets = PackedFloat32Array(0, 0.68, 1)
colors = PackedColorArray(1, 1, 1, 1, 0.177143, 0.177143, 0.177143, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_oom8b"]
gradient = SubResource("Gradient_y7cr2")
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="QuadMesh" id="QuadMesh_kmsub"]
size = Vector2(600, 350)

[sub_resource type="SphereMesh" id="1"]
radius = 10.0
height = 20.0

[sub_resource type="CircleShape2D" id="2"]

[sub_resource type="RectangleShape2D" id="3"]
size = Vector2(39, 355)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t1n4l"]
size = Vector2(650, 45)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_h8pkk"]

[node name="Main" type="Control"]
layout_mode = 3
anchor_right = 0.761571
anchor_bottom = 1.3
offset_top = -49.0
offset_right = 138.9
offset_bottom = -236.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
mouse_default_cursor_shape = 3
metadata/_edit_use_anchors_ = true

[node name="NetworkGateway" parent="." instance=ExtResource("3")]
layout_mode = 0
offset_left = 4.0
offset_top = 51.0
offset_right = 663.0
offset_bottom = 430.0
localplayerscene = "res://controlplayer.tscn"

[node name="JoystickControls" type="Node2D" parent="."]
material = SubResource("CanvasItemMaterial_is50g")
position = Vector2(0, 400)

[node name="Sprite2D" type="Sprite2D" parent="JoystickControls"]
modulate = Color(0.592157, 0.592157, 0.592157, 1)
texture_repeat = 2
position = Vector2(0, 200)
texture = SubResource("CanvasTexture_t3x1q")
offset = Vector2(330, 0)
region_enabled = true
region_rect = Rect2(0, 0, 600, 400)

[node name="PointLight2D" type="PointLight2D" parent="JoystickControls"]
position = Vector2(529, 219)
scale = Vector2(2.14062, 2)
color = Color(0.435294, 1, 1, 1)
energy = 1.24
texture = SubResource("GradientTexture2D_oom8b")
texture_scale = 1.74

[node name="MeshInstance2D" type="MeshInstance2D" parent="JoystickControls"]
visible = false
modulate = Color(0.0465795, 0.421923, 0.421454, 1)
position = Vector2(330, 180)
mesh = SubResource("QuadMesh_kmsub")
script = ExtResource("4")

[node name="PingPongBall" type="CharacterBody2D" parent="JoystickControls"]
position = Vector2(100, 100)
script = ExtResource("5")

[node name="MeshInstance2D" type="MeshInstance2D" parent="JoystickControls/PingPongBall"]
mesh = SubResource("1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="JoystickControls/PingPongBall"]
shape = SubResource("2")

[node name="StaticBody2D" type="StaticBody2D" parent="JoystickControls"]
position = Vector2(0, 175)

[node name="CollisionShape2D" type="CollisionShape2D" parent="JoystickControls/StaticBody2D"]
position = Vector2(13, 0)
shape = SubResource("3")

[node name="StaticBody2D2" type="StaticBody2D" parent="JoystickControls"]
position = Vector2(555, 175)

[node name="CollisionShape2D" type="CollisionShape2D" parent="JoystickControls/StaticBody2D2"]
position = Vector2(66.5, -5.5)
shape = SubResource("3")

[node name="StaticBody2D3" type="StaticBody2D" parent="JoystickControls"]
position = Vector2(250, 360)

[node name="CollisionShape2D" type="CollisionShape2D" parent="JoystickControls/StaticBody2D3"]
position = Vector2(66.5, -5.5)
shape = SubResource("RectangleShape2D_t1n4l")

[node name="Players" type="Node2D" parent="."]
position = Vector2(0, 400)

[node name="LocalPlayer" parent="Players" instance=ExtResource("2")]
position = Vector2(95, 40)

[node name="PlayerFrame" type="Node" parent="Players/LocalPlayer"]
script = ExtResource("1")

[node name="SyncObjects" type="Node2D" parent="."]
z_index = 1
position = Vector2(0, 400)
script = ExtResource("6_jvykx")

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="SyncObjects"]
_spawnable_scenes = PackedStringArray("res://mulitplayerspawntoy.tscn")
spawn_path = NodePath("../SpawnedObjects")

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="SyncObjects"]
root_path = NodePath("../SpawnedObjects")
delta_interval = 3.0
replication_config = SubResource("SceneReplicationConfig_h8pkk")

[node name="SpawnedObjects" type="Node2D" parent="SyncObjects"]
